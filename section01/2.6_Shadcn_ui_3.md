## 2.6 Shadcn/ui_2

### Shadcn/ui

### 05. 컴포넌트 예시 (Lucide Icon / Carousel /Popover / Dialog / AlterDialog / cn())

#### Lucide React - 아이콘 라이브러리

```bash
# shadcn/ui 설치 시 lucide-react가 자동으로 함께 설치됨
npm install lucide-react
```

- shadcn/ui의 기본 아이콘 라이브러리이다. 1,500개 이상의 아이콘을 컴포넌트 형태로 제공한다.

  > 공식문서: [https](https://lucide.dev/icons)

- 기본 사용법

```tsx
import { ChefHat } from "lucide-react";

{
  /* 실습 코드 */
}
<ChefHat className="h-10 w-10 fill-green-500" />;
```

- 아이콘 스타일링
  - 아이콘은 SVG 컴포넌트이므로 Tailwind 클래스로 자유롭게 스타일링할 수 있다.

```tsx
import { ChefHat, Heart, Search, Settings } from "lucide-react"

{/* 크기 조절 */}
<ChefHat className="h-4 w-4" />   {/* 16px */}
<ChefHat className="h-6 w-6" />   {/* 24px (기본) */}
<ChefHat className="h-10 w-10" /> {/* 40px */}

{/* 색상 */}
<Heart className="text-red-500" />           {/* stroke(선) 색상 */}
<ChefHat className="fill-green-400" />       {/* fill(채우기) 색상 */}
<ChefHat className="stroke-blue-500" />      {/* 명시적 stroke 색상 */}

{/* stroke 두께 */}
<Settings className="stroke-1" />    {/* 얇게 */}
<Settings className="stroke-2" />    {/* 기본 */}
<Settings className="stroke-[3px]" /> {/* 굵게 */}
```

> `fill`, `stroke`
>
> - `stroke` 아이콘의 선(테두리) 색상 - 대부분의 아이콘에서 주로 사용
> - `fill` 아이콘 내부를 채우는 색상 - 기본값은 `fill-none` 이므로 명시해야 채워진다.

- 버튼 안에 아이콘 넣기

```tsx
import { Search, Loader2 } from "lucide-react";
import { Button } from "@/components/ui/button";

{
  /* 아이콘 + 텍스트 */
}
<Button>
  <Search className="h-4 w-4" />
  검색
</Button>;

{
  /* 아이콘만 (icon size 버튼) */
}
<Button size="icon" variant="ghost">
  <Settings className="h-4 w-4" />
</Button>;

{
  /* 로딩 스피너 */
}
<Button disabled>
  <Loader2 className="h-4 w-4 animate-spin" />
  저장 중...
</Button>;
```

---

#### Cn() - 조건부 클래스 병합 활용

```txx
import { cn } from "./lib/utils"

{/* 실습 코드 */}
const isActive = true

<div
  className={cn(
    "w-10 text-sm",
    isActive ? "text-green-500" : "text-red-500",
  )}
>
  isActive
</div>
```

- `cn()`은 `clsx` + `tailwind-merge`를 합친 유틸 함수다.
- 조건부로 클래스를 적용하거나 충돌하는 Tailwind 클래스를 병합할 때 사용한다.

* 동작원리

```tsx
import { cn } from "@/lib?utils";

// 기본 병합
cn("px-4", "py-2");
// -> "px-4 py-2"

// 조건부 클래스 (삼항 연산자)
cn("text-sm", isActive ? "text-green-500" : "text-red-500");
// isActive = true -> "text-sm text-green-500"
// isActive = false -> "text-sm text-red-500"

// 조건 부 클래스 (&&)
cn("text-sm", isActive && "font-bold");
// isActive = true -> "text-sm font-bold"
// isActive = false -> "text-sm"

// 충돌하는 클래스 자동 해결
cn("px-4", "px-6");
// px->6 마지막 값 우선

// 조건 조합
cn(
  "rounded px-4 py-2",
  isActive && "bg-blue-500 text-white",
  isDisabled && "opacity-50 cursor-not-allowed",
  className, // 외부에서 주입 받은 클래스 병합 가능
);
```

- 시맨틱 색상 클래스 활용

```tsx
<div className="text-primary">Primary</div>
<div className="text-muted">Muted</div>
<div className="text-destructive">Destructive</div>
```

- shadcn/ui의 CSS 변수 기반 색상 클래스이다. 라이트/다크 모드에 자동으로 대응한다.

#### 🎨 텍스트 색상 클래스와 CSS 변수

| 클래스                  | CSS 변수             | 용도                          |
| :---------------------- | :------------------- | :---------------------------- |
| `text-primary`          | `--primary`          | 주요 텍스트, 강조             |
| `text-muted`            | `--muted`            | 배경용 (foreground 아님 주의) |
| `text-muted-foreground` | `--muted-foreground` | 흐릿한 보조 텍스트            |
| `text-destructive`      | `--destructive`      | 경고/삭제 텍스트              |
| `text-secondary`        | `--secondary`        | 보조 텍스트                   |

> 실습 결과처럼 `text-muted`는 색상이 거의 보이지 않을 수 있다. 텍스트 색상으로 `text-muted-foreground`를 사용하는 것이 올바르다.

---

### 03 Popver - 클릭 시 떠오르는 작은 팝업

```bash
npx shdcn@latest add popover
```

- 버튼을 클릭했을 때 그 주변에 작은 팝업(말풍선)이 나타나는 컴포넌트이다. Dropdonw과 달리 자유로운 내용을 담을 수 있다.

- 기본구조

```tsx
import {
  Popover,
  PopoverContent,
  PopoverTrigger,
} from "./components/ui/popover";

{
  /* 실습 코드 */
}
<Popover>
  <PopoverTrigger asChild>
    <Button>Open</Button>
  </PopoverTrigger>
  <PopoverContent>Content!</PopoverContent>
</Popover>;
```

- 컴포넌트 구조

#### 🎈 Popover 컴포넌트 역할

| 컴포넌트           | 역할                            |
| :----------------- | :------------------------------ |
| `<Popover>`        | 상태 관리 컨테이너 (열림/닫힘)  |
| `<PopoverTrigger>` | 클릭 시 팝업을 여는 트리거 요소 |
| `<PopoverContent>` | 팝업 안에 들어가는 내용         |

- 주요 사용 패턴

```tsx
{/* 위치 지정 */}
<PopoverContent side="top">위에 표시</PopoverContent>
<PopoverContent side="bottom">아래에 표시 (기본)</PopoverContent>
<PopoverContent side="left">왼쪽에 표시</PopoverContent>
<PopoverContent side="right">오른쪽에 표시</PopoverContent>

{/* 정렬 */}
<PopoverContent align="start">왼쪽 정렬</PopoverContent>
<PopoverContent align="center">가운데 정렬 (기본)</PopoverContent>
<PopoverContent align="end">오른쪽 정렬</PopoverContent>

{/* 너비 조정 */}
<PopoverContent className="w-80">너비 320px</PopoverContent>

{/* 날짜 선택기 패턴 */}
<Popover>
  <PopoverTrigger asChild>
    <Button variant="outline">날짜 선택</Button>
  </PopoverTrigger>
  <PopoverContent className="w-auto p-0">
    {/* Calendar 컴포넌트 등 삽입 */}
  </PopoverContent>
</Popover>

```

> `asChild`사용 이유: `<PopoverTrigger>` 자체는 `<button>`을 렌더링한다. `asChild`를 쓰면 자식인 `<Button>`이 트리거 역할을 직접 담당해 `<button>` 중첩 문제를 방지한다.

---

### 04. Dialog - 모달 창

```bash
npx shadcn@latest add dialog
```

- 화면 중앙에 나타나는 모달 창이다. 배경이 흐려지며 사용자의 집중을 유도한다. ESC 키, 배경 클릭으로 닫힌다.

- 기본 구조

```tsx
import {
  Dialog,
  DialogContent,
  DialogDescription,
  DialogHeader,
  DialogTitle,
  DialogTrigger,
} from "./components/ui/dialog";

{
  /* 실습 코드 */
}
<Dialog>
  <DialogTrigger>Open Dialog</DialogTrigger>
  <DialogContent>
    <DialogTitle>Title</DialogTitle>
    <DialogDescription>Description</DialogDescription>
    <div>Body</div>
  </DialogContent>
</Dialog>;
```

- 컴포넌트 구조

#### 🪟 Dialog 컴포넌트 역할

| 컴포넌트              | 역할                         |
| :-------------------- | :--------------------------- |
| `<Dialog>`            | 상태 관리 컨테이너           |
| `<DialogTrigger>`     | 모달을 여는 트리거           |
| `<DialogContent>`     | 모달 창 전체 (오버레이 포함) |
| `<DialogHeader>`      | 제목 영역 묶음 (선택)        |
| `<DialogTitle>`       | 모달 제목 (접근성 필수)      |
| `<DialogDescription>` | 모달 설명 (접근성 권장)      |
| `<DialogFooter>`      | 하단 버튼 영역 (선택)        |

---

### 05. AlterDialog - 확인이 필요한 경고 모달

```bash
npx shadcn@latest add alert-dialog
```

---

### 06. Carousel - 슬라이드 컴포넌트

```bash
npx shadcn@latest add carousel
```

- 이미지나 카드 등을 좌우로 슬라이드하는 캐러셀 컴포넌트이다. 내부적으로 `embla-carousel-react`를 사용한다.
